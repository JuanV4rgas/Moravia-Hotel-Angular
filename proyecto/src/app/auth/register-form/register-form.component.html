<form (ngSubmit)="onRegister()" [formGroup]="registerForm" novalidate>
  <!-- Mensajes -->
  <div class="alert error" *ngIf="errorMessage">{{ errorMessage }}</div>
  <div class="alert success" *ngIf="successMessage">{{ successMessage }}</div>

  <div class="form-grid">
    <!-- Fila 1 -->
    <div class="field">
      <label for="nombre">Nombre*</label>
      <input id="nombre" formControlName="nombre" type="text" placeholder="John" required />
      <div class="error-message" *ngIf="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched">
        <span *ngIf="registerForm.get('nombre')?.errors?.['required']">El nombre es requerido.</span>
        <span *ngIf="registerForm.get('nombre')?.errors?.['minlength']">El nombre debe tener al menos 2 caracteres.</span>
        <span *ngIf="registerForm.get('nombre')?.errors?.['maxlength']">El nombre no puede exceder 50 caracteres.</span>
      </div>
    </div>

    <div class="field">
      <label for="apellido">Apellido*</label>
      <input id="apellido" formControlName="apellido" type="text" placeholder="Doe" required />
      <div class="error-message" *ngIf="registerForm.get('apellido')?.invalid && registerForm.get('apellido')?.touched">
        <span *ngIf="registerForm.get('apellido')?.errors?.['required']">El apellido es requerido.</span>
        <span *ngIf="registerForm.get('apellido')?.errors?.['minlength']">El apellido debe tener al menos 2 caracteres.</span>
        <span *ngIf="registerForm.get('apellido')?.errors?.['maxlength']">El apellido no puede exceder 50 caracteres.</span>
      </div>
    </div>

    <!-- Fila 2 -->
    <div class="field">
      <label for="email">Correo*</label>
      <input id="email" formControlName="email" type="email" placeholder="tu@correo.com" required />
      <div class="error-message" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
        <span *ngIf="registerForm.get('email')?.errors?.['required']">El correo es requerido.</span>
        <span *ngIf="registerForm.get('email')?.errors?.['email']">Ingresa un correo v√°lido.</span>
      </div>
    </div>

    <div class="field">
      <label for="cedula">C√©dula*</label>
      <input id="cedula" formControlName="cedula" type="text" placeholder="1123456789" required />
      <div class="error-message" *ngIf="registerForm.get('cedula')?.invalid && registerForm.get('cedula')?.touched">
        <span *ngIf="registerForm.get('cedula')?.errors?.['required']">La c√©dula es requerida.</span>
        <span *ngIf="registerForm.get('cedula')?.errors?.['pattern']">La c√©dula debe tener exactamente 10 d√≠gitos.</span>
      </div>
    </div>

    <!-- Fila 3 -->
    <div class="field">
      <label for="telefono">Tel√©fono*</label>
      <input id="telefono" formControlName="telefono" type="text" placeholder="3001234567" required />
      <div class="error-message" *ngIf="registerForm.get('telefono')?.invalid && registerForm.get('telefono')?.touched">
        <span *ngIf="registerForm.get('telefono')?.errors?.['required']">El tel√©fono es requerido.</span>
        <span *ngIf="registerForm.get('telefono')?.errors?.['pattern']">El tel√©fono debe tener entre 7 y 15 d√≠gitos.</span>
      </div>
    </div>

    <div class="field">
      <label for="fotoPerfil">URL Foto de Perfil</label>
      <input id="fotoPerfil" formControlName="fotoPerfil" type="text" placeholder="Avatar por defecto si est√° vac√≠o" />
    </div>

    <!-- Fila 4 -->
    <div class="field field-full">
      <label for="clave">Contrase√±a*</label>
      <input id="clave" formControlName="clave" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
      <div class="error-message" *ngIf="registerForm.get('clave')?.invalid && registerForm.get('clave')?.touched">
        <span *ngIf="registerForm.get('clave')?.errors?.['required']">La contrase√±a es requerida.</span>
        <span *ngIf="registerForm.get('clave')?.errors?.['minlength']">La contrase√±a debe tener al menos 8 caracteres.</span>
      </div>
    </div>

    <!-- üÜï Campo de tipo -->
    <div class="field field-full">
      <label for="tipo">Tipo de usuario*</label>
      <select id="tipo" formControlName="tipo" required>
        <option value="cliente">Cliente</option>
        <option value="administrador">Administrador</option>
        <option value="operador">Operador</option>
      </select>
    </div>
  </div>

  <!-- Botones -->
  <div class="actions">
    <button class="btn" type="submit" [disabled]="isLoading || registerForm.invalid">
      {{ isLoading ? 'Registrando...' : 'Registrar' }}
    </button>

    <button class="btn btn--outline" type="button" (click)="cambiarALogin()" [disabled]="isLoading">
      Ya tengo cuenta
    </button>
  </div>
</form>
