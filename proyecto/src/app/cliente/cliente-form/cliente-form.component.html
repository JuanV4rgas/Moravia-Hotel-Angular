<h2 class="mb-3">{{ isEdit ? 'Editar cliente' : 'Nuevo cliente' }}</h2>

<div *ngIf="loading">Cargando...</div>
<div *ngIf="error" class="alert alert-danger">{{ error }}</div>

<form (ngSubmit)="guardar()" class="p-3" *ngIf="!loading">
  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label" for="nombre">Nombre</label>
      <input id="nombre" name="nombre" class="form-control" type="text"
             [(ngModel)]="cliente.nombre" [ngModelOptions]="{standalone:true}" required />
    </div>
    <div class="col-md-6">
      <label class="form-label" for="apellido">Apellido</label>
      <input id="apellido" name="apellido" class="form-control" type="text"
             [(ngModel)]="cliente.apellido" [ngModelOptions]="{standalone:true}" required />
    </div>
    <div class="col-md-6">
      <label class="form-label" for="email">Email</label>
      <input id="email" name="email" class="form-control" type="email"
             [(ngModel)]="cliente.email" [ngModelOptions]="{standalone:true}" required />
    </div>
    <div class="col-md-6" *ngIf="!isEdit">
      <label class="form-label" for="clave">Clave</label>
      <input id="clave" name="clave" class="form-control" type="password"
             [(ngModel)]="cliente.clave" [ngModelOptions]="{standalone:true}" required />
    </div>
    <div class="col-md-6">
      <label class="form-label" for="cedula">Cédula</label>
      <input id="cedula" name="cedula" class="form-control" type="text"
             [(ngModel)]="cliente.cedula" [ngModelOptions]="{standalone:true}" required />
    </div>
    <div class="col-md-6">
      <label class="form-label" for="telefono">Teléfono</label>
      <input id="telefono" name="telefono" class="form-control" type="text"
             [(ngModel)]="cliente.telefono" [ngModelOptions]="{standalone:true}" />
    </div>
    <div class="col-12">
      <label class="form-label" for="fotoPerfil">Foto (URL/Base64) — opcional</label>
      <input id="fotoPerfil" name="fotoPerfil" class="form-control" type="text"
             [(ngModel)]="cliente.fotoPerfil" [ngModelOptions]="{standalone:true}" />
    </div>
  </div>

  <div class="d-flex gap-2 mt-3">
    <button type="submit" class="btn btn-primary">{{ isEdit ? 'Actualizar' : 'Guardar' }}</button>
    <button type="button" class="btn btn-secondary" (click)="onClear()">Limpiar</button>
    <button type="button" class="btn btn-outline-secondary" (click)="cancelar()">Cancelar</button>
  </div>
</form>
