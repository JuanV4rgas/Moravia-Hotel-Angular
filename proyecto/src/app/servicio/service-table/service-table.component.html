<h2>Servicios</h2>

<div *ngIf="loading" class="alert alert-info">Cargando‚Ä¶</div>
<div *ngIf="error" class="alert alert-danger mt-2">{{ error }}</div>
<div *ngIf="!error && !loading && servicios?.length === 0" class="alert alert-warning mt-2">
  No hay servicios.
</div>

<table class="table table-hover" *ngIf="!loading && servicios?.length">
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Descripci√≥n</th>
      <th class="text-end">Precio</th>
      <th>Imagen</th>
      <th style="width: 260px;">Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let s of servicios; trackBy: trackById">
      <td>{{ s.nombre }}</td>
      <td>{{ s.descripcion }}</td>
      <td class="text-end">{{ s.precio | currency:'COP':'symbol' }}</td>
      <td>
        <!-- SOLO abre la imagen si existe (esto NO es el detalle) -->
        <a *ngIf="s.imagenUrl" [href]="s.imagenUrl" target="_blank">imagen</a>
      </td>
      <td class="d-flex gap-2">
        <!-- üëá ESTE ES EL ‚ÄúVER‚Äù que pediste: navega al detalle -->
        <a class="btn btn-outline-secondary btn-sm" [routerLink]="['/servicio/detail', s.idServicio]">Ver</a>

        <!-- Editar -->
        <a class="btn btn-outline-primary btn-sm" [routerLink]="['/servicio/editar', s.idServicio]">Editar</a>

        <!-- Eliminar -->
        <button class="btn btn-outline-danger btn-sm" (click)="eliminar(s.idServicio!, $event)">Eliminar</button>
      </td>
    </tr>
  </tbody>
</table>

<a class="btn btn-primary mt-2" [routerLink]="['/servicio/nueva']">Crear nuevo</a>
