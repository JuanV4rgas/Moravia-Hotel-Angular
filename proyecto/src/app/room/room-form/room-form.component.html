<h2>Nueva habitación</h2>

<div *ngIf="loading" class="alert alert-info">Cargando…</div>
<div *ngIf="error" class="alert alert-danger mt-2">{{ error }}</div>

<form *ngIf="!loading" (ngSubmit)="guardar()">
  <!-- NO pedir ID al crear -->

  <div class="mb-3">
    <label for="habitacionNumber" class="form-label">Número de habitación</label>
    <input
      id="habitacionNumber"
      name="habitacionNumber"
      class="form-control"
      [(ngModel)]="formRoom.habitacionNumber"
      required
    />
  </div>

  <div class="mb-3">
    <label for="type" class="form-label">Tipo</label>
    <select
      id="type"
      name="type"
      class="form-select"
      [(ngModel)]="formRoom.type"
      [compareWith]="compareRoomType"
      required
    >
      <option *ngFor="let t of roomTypes" [ngValue]="t">
        {{ t.name }} — {{ t.price | currency:'EUR':'symbol' }}
      </option>
    </select>
  </div>

  <div class="form-check mb-3">
    <input
      id="available"
      name="available"
      type="checkbox"
      class="form-check-input"
      [(ngModel)]="formRoom.available"
    />
    <label for="available" class="form-check-label">Disponible</label>
  </div>

  <div class="d-flex gap-2">
    <button class="btn btn-primary" type="submit">Guardar</button>
    <button class="btn btn-secondary" type="button" (click)="limpiar()">Limpiar</button>
    <a class="btn btn-outline-secondary" routerLink="/room/table">Cancelar</a>
  </div>
</form>
